	;;;;;;;;;;;;;;;;;;
	; UTILITY MACROS ;
	;;;;;;;;;;;;;;;;;;
		;WAIT FOR ANY KEY TO BE PRESSED
		KEYWAIT MACRO
		LOCAL KONIEC
			MOV AH, 07H
			INT 21H
		KONIEC:
		ENDM
		;POSITION EVALUATOR
		POSEVAL MACRO
			READPOS
			CMP CURSROW, 24
				JZ COLCHECK
			JMP CONT
		COLCHECK: 
			CMP CURSCOL, 79
				KEYWAIT;CAKA NA ENTER
				CLEAR
				MOVESTART
				JMP CONT
		CONT:
		ENDM
		;MAKRO NA VYPIS MENU
		MENU MACRO T1, T2, T3, T4
			MOV AH, 09H
			MOV DX, OFFSET T1
			INT 21H
			MOV DX, OFFSET T2
			INT 21H
			MOV DX, OFFSET T3
			INT 21H
			MOV DX, OFFSET T4
			INT 21H
		ENDM
		;VSEOBECNY PRINT NA BARS AKE VYPISY
		PRINT MACRO TXT
			MOV DX, OFFSET TXT
			MOV AH, 09H
			INT 21H
		ENDM
		USERINPUT MACRO
			MOV AH, 01H ;NACITA ZNAK ULOZI DO AL, PRIPADNE NECHAT 07H
			INT 21H
			MOV CL, AL	;CL POUZIJE AKO BUFFER PRE ULOZENIE ZNAKU, LEBO IDE ONTROLNY VYPIS
		ENDM
		PUTCHAR MACRO
			;EXISTUJE PREDPOKLAD, ZE PRI USERINPUT BOLO AL ULOZENE DO CL AKO BUFFER
			MOV DL, CL
			MOV AH, 02H
			INT 21H
		ENDM
		PRINTENTER MACRO ;PROSTE VYTLAC ENTER
			MOV DX, OFFSET ENT
			MOV AH, 09H
			INT 21H
		ENDM
		BACKUPSTRING MACRO;PROCEDURA NA ZALOHOVANIE = VYTVORENIE KOPIE NAZVU SUBORU
			MOV SI, OFFSET POCET
			MOV DI, OFFSET FNAME ;SEM TO CHCEM KOPIROVAT
			XOR DX, DX
			XOR AX, AX
			MOV CL, BYTE PTR[SI]
			;ADD CL, 1;+2 TAM JE DOLAR
			INC SI;
		L2:	;VYNULOVAT AK UZ TAM NIECO JE
			MOV BL, [DI]
			CMP BL, 0;DEFAULTNE BY TO MALO BYT VSETKO NULA
				JE L3		;AK NULA TAK DALEJ
			MOV BL, 0		;DAJ NULU
			MOV [DI], BL	;ZMEN AJ V PAMATI
			JMP L2;REPEAT
		L3:
			MOV AL, BYTE PTR[SI]
			MOV BYTE PTR[DI], AL
			INC SI
			INC DI
			LOOPNE L3
		ENDM
		;MAKRO CITA AZ KYM V DANOM BUFFERI NENARAZI NA NULU
		;debugovacie makro
		PRINTUNTILZERO MACRO BUFF
			LEA SI, BUFF
			MOV AH, 02H
		L4:
			MOV DL, BYTE PTR[SI]
			CMP DL, 0
				JZ KON
			INT 21H
			INC SI;
			PUSH AX
			POSEVAL
			POP AX
			JMP L4
		KON:
		ENDM
		;VYCISTI AKUKOLVEK PAMATOVU STRUKTURU
		CLEARBUFFER MACRO BUFF
		LOCAL L5, KONEC
			LEA SI, BUFF
		L5:
			MOV DL, BYTE PTR[SI]
			CMP DL, 0
				JZ KONEC
			MOV BYTE PTR[SI], 00H;
			INC SI;
			JMP L5
		KONEC:
		ENDM
