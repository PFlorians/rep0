	;;;;;;;;;;;;;;;;;;;;;;
	;   MAKRA PRE ULOHU  ;
	;;;;;;;;;;;;;;;;;;;;;;
	
	;;;;;;;;;;;;;;;;;;;;;;;;;
	; NASTAVENIE PODRETAZCA ;
	;;;;;;;;;;;;;;;;;;;;;;;;;
	SETSTRING MACRO
	LOCAL L3, NEW
			LEA DX, INPUT;+1B = POCET
			MOV SI, DX
		L3:	
			INC SI
			MOV BL, [SI]
			CMP BL, 0;DEFAULTNE BY TO MALO BYT VSETKO NULA
				JE NEW
			MOV BL, 0
			MOV [SI], BL
			JMP L3
		NEW:
			MOV AH, 0AH		;NACITANIE RETAZCA A PRIDANIE DOLARA PRE DEBUG, MENO SA DA HNED VYTLACIT
			INT 21H
			MOV SI, OFFSET COUNT
			XOR DX, DX
			XOR AX, AX
			MOV DX, OFFSET COUNT
			MOV AL, BYTE PTR[SI]
			ADD DX, AX
			MOV BX, DX
			MOV BYTE PTR[BX]+1, 0H
			;PRINTUNTILZERO SUBST
		ENDM
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; KONVERT A TLACENIE CISLA ;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	CONVERTTONUM MACRO VAL
	LOCAL L2, PRINT
		MOV AX, VAL
		MOV CX, 10
		XOR BX, BX;TU SA SPOCITAVAJU CIFRY
	L2:
		INC BX
		MOV DX, 0
		DIV CX	   ;ZVYSOK DO DX
		ADD DL, 30H;KONVERT DO ASCII
		PUSH DX
		CMP AX, 0
		JNZ L2
		MOV CX, BX
		MOV AH, 02H
	PRINT:
		POP DX
		INT 21H
		DEC CX
		CMP CX, 0H
			JNZ PRINT
	ENDM
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; 16BIT CISLO              ;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	CONVERTTONUMWORD MACRO VAL
	LOCAL L2, PRINT
		XOR AX, AX
		MOV AX, VAL
		MOV CX, 10
		XOR BX, BX;TU SA SPOCITAVAJU CIFRY
	L2:
		INC BX
		MOV DX, 0
		DIV CX	   ;ZVYSOK DO DX
		ADD DL, 30H;KONVERT DO ASCII
		PUSH DX
		CMP AX, 0
		JNZ L2
		MOV CX, BX
		MOV AH, 02H
	PRINT:
		POP DX
		INT 21H
		DEC CX
		CMP CX, 0H
			JNZ PRINT
	ENDM
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; 8BIT CISLO               ;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	CONVERTTONUMBYTE MACRO VAL
	LOCAL L2, PRINT
		XOR AX, AX
		MOV AL, VAL
		MOV CX, 10
		XOR BX, BX;TU SA SPOCITAVAJU CIFRY
	L2:
		INC BX
		MOV DX, 0
		DIV CX	   ;ZVYSOK DO DX
		ADD DL, 30H;KONVERT DO ASCII
		PUSH DX
		CMP AX, 0
		JNZ L2
		MOV CX, BX
		MOV AH, 02H
	PRINT:
		POP DX
		INT 21H
		DEC CX
		CMP CX, 0H
			JNZ PRINT
	ENDM
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	; SUBSTRING POCITANIE MAKRO;
	;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	
	SUBS MACRO S1, SUBST
	LOCAL L1, CHECK, INCR, ENDE
		MOV SI, OFFSET S1
		MOV DI, OFFSET SUBST
	L1:
		MOV DL, [SI]
		MOV DH, [DI]
		CMP DH, DL
			JNZ CHECK
		INC SI
		INC DI
		JMP L1
	CHECK:
		CMP DH, 0H;MATCH
			JZ INCR
		CMP DL, 0H;LEBO SA UZ NEDA POKRACOVAT
			JZ ENDE
		MOV DI, OFFSET SUBST;MISMATCH
		INC SI
		JMP L1
	INCR:
		INC OCCURENCES
		CMP DL, 0H
			JZ ENDE
		MOV DI, OFFSET SUBST
		JMP L1;INAK ODZNOVA
	ENDE: ;KONIEC
	ENDM
